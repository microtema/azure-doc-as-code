# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.
# Add steps that build, run tests, deploy, and more:
# https://aka.ms/yaml

trigger:
  - develop
  - release/*
  - master
stages:
  - stage: transpile
    displayName: Transpile Templates
    jobs:
      - job: transpile
        displayName: Transpile Templates
        pool:
          vmImage: ubuntu-latest
        steps:
          - script: mvn --version
            displayName: 'Run a one-line script'
  - stage: merge
    displayName: Merge Templates
    jobs:
      - job: merge
        displayName: Merge Templates
        pool:
          vmImage: ubuntu-latest
        steps:
          - script: mvn clean compile org.codehaus.mojo:exec-maven-plugin:3.0.0:java
            displayName: 'Run a one-line script'
  - stage: publish
    displayName: Publish Templates
    jobs:
      - job: publish
        displayName: Publish Templates
        pool:
          vmImage: ubuntu-latest
        steps:
          - script: mvn clean
            displayName: 'Run a one-line script'
